<!DOCTYPE html>
<html>
    <head>
        <title>Karen's Notes</title>
        <meta charset="UTF-8"/> 
        <link rel="stylesheet" type="text/css" href="node_modules/bootstrap/dist/css/bootstrap.css"/>
        <link rel="stylesheet" type="text/css" href="index.css" />
        <script src="index.js"></script>
        <script src="controller.js"></script>
        <script src="model.js"></script>
    </head>
    <body>
        <h1>Note Takeing App.</h1>

        <div id="insertData">
            <p>Name:</p>
            <input id="name" name="name" type="text"></input>
            <p>Description:</p>
            <textarea cols=60 rows=20 id="description"  name="description" type="text"></textarea>
            <p>and finally</p>

            <input type=submit value="Save" id="save" />
            <input type=submit value="Clear" id="clear" />
            <input type=submit value="Export" id="export"/>       
            <input type=submit value="Like, Save!" id="store"/>       
        </div>

        <div id="DisplayData">

            <b>Status:</b> <p id="status"> </p>
            <input type=date name="date" id="date" value="2016-10-11" ></input>
            <input type=text name="keyword"></input>
            <input type=submit name="query" id="query"></input>
            <div id="notes"> 
            </div>

        </div>
        <script >

startApp();
console.log("started");

window.onbeforeunload = function(e) {
    note.saveDataToLocalStorage();
}
        </script>

        <script>
document.getElementById("save").onclick = function() {
    saveData(document.getElementById('name'), document.getElementById('description'))
}
document.getElementById("store").onclick = function() {
    note.saveDataToLocalStorage();
}
document.getElementById("clear").onclick =  function() {
    clearData();
}
document.getElementById("export").onclick = function() {
    exportData();
}
document.getElementById("query").onclick = function() {
    queryData(document.getElementById('date'), document.getElementById('keyword'))

}
document.getElementById("notes").onclick = function(e){
    debugger;
    console.log(this);
    console.log(e);
    var t = e.target;
    while (t.className !== "note" && t.className !== "body") {
        console.log(t);
        t = t.parentElement;
    }
    if (t.className == "body"){
        alert("Please click on a note to edit it.");

    }
    var id = parseInt(t.id);
    console.log(notenotes[id]);
    document.getElementById('name').value = notenotes[id].heading;

    document.getElementById('description').innerHTML = notenotes[id].description;
}
        </script>
    </body>

</html>


